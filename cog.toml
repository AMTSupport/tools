ignore_merge_commits = true
branch_whitelist = ["master"]
tag_prefix = "v"

post_bump_hooks = [
#    "git push",
#    "git push origin --tags"
]
pre_package_bump_hooks = [
    "echo 'upgrading {{package}}' to {{version}}",
    "cargo fmt -p {{package}} -- --check",
    "cargo clippy -p {{package}} --all-features -- -D warnings",
    "cargo test -p {{package}} --all-features",
    "cargo set-version {{version}}"
]

[changelog]
#template = "monorepo_remote"
package_template = "package_remote"
remote = "github.com"
repository = "tools"
owner = "AMTSupport"
authors = [
    { signature = "James Draycott", username = "Da_Racci" }
]

[packages]
lib = { path = "crates/lib", public_api = false }
macros = { path = "crates/macros", public_api = false }

backup = { path = "crates/backup" }
cleaner = { path = "crates/cleaner" }
country-ip = { path = "crates/country-ip" }
interfacer = { path = "crates/interfacer" }
memorable-pass = { path = "crates/memorable-pass" }

rebooter = { path = "crates/rebooter" }