ignore_merge_commits = true
branch_whitelist = ["master"]
tag_prefix = "v"

generate_mono_repository_global_tag = false
monorepo_version_separator = "-"

pre_package_bump_hooks = [
    "echo 'upgrading {{package}}' to {{version}}",
    "sed -i -e 's/^version = .*/version = \"{{version}}\"/' ./crates/{{package}}/Cargo.toml",
#    "git cliff --include-path 'crates/{{package}}/**' -t {{version}} -o 'crates/{{package}}/CHANGELOG.md"
]
post_bump_hooks = [
    #    "git push",
    #    "git push origin --tags"
]

[changelog]
template = "monorepo_remote"
remote = "github.com"
repository = "tools"
owner = "AMTSupport"
authors = [
    { username = "DaRacci", signature = "James Draycott" }
]

[packages]
lib = { path = "crates/lib", public_api = false }
macros = { path = "crates/macros", public_api = false }

backup = { path = "crates/backup" }
cleaner = { path = "crates/cleaner" }
country-ip = { path = "crates/country-ip" }
interfacer = { path = "crates/interfacer" }
memorable-pass = { path = "crates/memorable-pass" }
rebooter = { path = "crates/rebooter" }
popup = { path = "crates/popup" }
